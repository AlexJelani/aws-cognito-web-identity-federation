#!/usr/bin/env node
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
require("source-map-support/register");
const cdk = require("aws-cdk-lib");
const aws_cognito_web_identity_federation_cdk_stack_1 = require("../lib/aws-cognito-web-identity-federation-cdk-stack");
const app = new cdk.App();
// Get Google Client ID from context or environment variable
const googleClientId = app.node.tryGetContext('googleClientId') || process.env.GOOGLE_CLIENT_ID;
if (!googleClientId) {
    throw new Error('Google Client ID is not provided. Please set it in the context or GOOGLE_CLIENT_ID environment variable.');
}
if (!googleClientId) {
    throw new Error('Google Client ID is not provided. Please set it in the context or as an environment variable.');
}
new aws_cognito_web_identity_federation_cdk_stack_1.AwsCognitoWebIdentityFederationCdkStack(app, 'AwsCognitoWebIdentityFederationCdkStack', {
    googleClientId: googleClientId,
    env: {
        account: process.env.CDK_DEFAULT_ACCOUNT,
        region: process.env.CDK_DEFAULT_REGION || 'us-east-1'
    },
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXdzLWNvZ25pdG8td2ViLWlkZW50aXR5LWZlZGVyYXRpb24tY2RrLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiYXdzLWNvZ25pdG8td2ViLWlkZW50aXR5LWZlZGVyYXRpb24tY2RrLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUNBLHVDQUFxQztBQUNyQyxtQ0FBbUM7QUFDbkMsd0hBQStHO0FBRS9HLE1BQU0sR0FBRyxHQUFHLElBQUksR0FBRyxDQUFDLEdBQUcsRUFBRSxDQUFDO0FBRTFCLDREQUE0RDtBQUM1RCxNQUFNLGNBQWMsR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLE9BQU8sQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLENBQUM7QUFFaEcsSUFBSSxDQUFDLGNBQWMsRUFBRTtJQUNuQixNQUFNLElBQUksS0FBSyxDQUFDLDBHQUEwRyxDQUFDLENBQUM7Q0FDN0g7QUFFRCxJQUFJLENBQUMsY0FBYyxFQUFFO0lBQ25CLE1BQU0sSUFBSSxLQUFLLENBQUMsK0ZBQStGLENBQUMsQ0FBQztDQUNsSDtBQUVELElBQUksdUZBQXVDLENBQUMsR0FBRyxFQUFFLHlDQUF5QyxFQUFFO0lBQzFGLGNBQWMsRUFBRSxjQUFjO0lBQzlCLEdBQUcsRUFBRTtRQUNILE9BQU8sRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLG1CQUFtQjtRQUN4QyxNQUFNLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxrQkFBa0IsSUFBSSxXQUFXO0tBQ3REO0NBQ0YsQ0FBQyxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiIyEvdXNyL2Jpbi9lbnYgbm9kZVxuaW1wb3J0ICdzb3VyY2UtbWFwLXN1cHBvcnQvcmVnaXN0ZXInO1xuaW1wb3J0ICogYXMgY2RrIGZyb20gJ2F3cy1jZGstbGliJztcbmltcG9ydCB7IEF3c0NvZ25pdG9XZWJJZGVudGl0eUZlZGVyYXRpb25DZGtTdGFjayB9IGZyb20gJy4uL2xpYi9hd3MtY29nbml0by13ZWItaWRlbnRpdHktZmVkZXJhdGlvbi1jZGstc3RhY2snO1xuXG5jb25zdCBhcHAgPSBuZXcgY2RrLkFwcCgpO1xuXG4vLyBHZXQgR29vZ2xlIENsaWVudCBJRCBmcm9tIGNvbnRleHQgb3IgZW52aXJvbm1lbnQgdmFyaWFibGVcbmNvbnN0IGdvb2dsZUNsaWVudElkID0gYXBwLm5vZGUudHJ5R2V0Q29udGV4dCgnZ29vZ2xlQ2xpZW50SWQnKSB8fCBwcm9jZXNzLmVudi5HT09HTEVfQ0xJRU5UX0lEO1xuXG5pZiAoIWdvb2dsZUNsaWVudElkKSB7XG4gIHRocm93IG5ldyBFcnJvcignR29vZ2xlIENsaWVudCBJRCBpcyBub3QgcHJvdmlkZWQuIFBsZWFzZSBzZXQgaXQgaW4gdGhlIGNvbnRleHQgb3IgR09PR0xFX0NMSUVOVF9JRCBlbnZpcm9ubWVudCB2YXJpYWJsZS4nKTtcbn1cblxuaWYgKCFnb29nbGVDbGllbnRJZCkge1xuICB0aHJvdyBuZXcgRXJyb3IoJ0dvb2dsZSBDbGllbnQgSUQgaXMgbm90IHByb3ZpZGVkLiBQbGVhc2Ugc2V0IGl0IGluIHRoZSBjb250ZXh0IG9yIGFzIGFuIGVudmlyb25tZW50IHZhcmlhYmxlLicpO1xufVxuXG5uZXcgQXdzQ29nbml0b1dlYklkZW50aXR5RmVkZXJhdGlvbkNka1N0YWNrKGFwcCwgJ0F3c0NvZ25pdG9XZWJJZGVudGl0eUZlZGVyYXRpb25DZGtTdGFjaycsIHtcbiAgZ29vZ2xlQ2xpZW50SWQ6IGdvb2dsZUNsaWVudElkLFxuICBlbnY6IHsgXG4gICAgYWNjb3VudDogcHJvY2Vzcy5lbnYuQ0RLX0RFRkFVTFRfQUNDT1VOVCwgXG4gICAgcmVnaW9uOiBwcm9jZXNzLmVudi5DREtfREVGQVVMVF9SRUdJT04gfHwgJ3VzLWVhc3QtMScgXG4gIH0sXG59KTtcbiJdfQ==